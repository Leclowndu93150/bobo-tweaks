 Bobo Tweaks: [Enchantment Module]

[FEATURE #1] ENCHANTMENT CAP
Can be either JSON / Config / Datapack-based
List an item or array of items and limit the amount of enchantments it can have.

[FEATURE #2] ENCHANTMENTS
WEAPONS
Reprisal [WEAPON]
When you take direct damage from a mob, gain a flat damage amplifier boost for x seconds.
This can only occur every y seconds.
While this effect is active, your weapon attacks deal the Elder Guardian Hurt 3  effect.
Configuration options:
Damage boost
Additive damage boost per level
Base duration
Duration
Duration per level
Cooldown
Cooldown reduction per level

Momentum [WEAPON]
[Description] When a hostile/neutral mob is killed, gain a flat damage amplifier boost. This can stack.
If you eliminate the mob, gain 3 stacks.
If your allies eliminate the mob, gain only 1 stacks.
This can stack up to y times for z seconds. When the duration is over, all stacks are removed.
If a player or teammate kills a mob, but you are at max stacks, the duration is refreshed, but does not increase any further.
Configuration options:
Stacks
Base max stacks
Can the max be a high number? I plan on making the damage boost small, but the stack count is high.
Max stack increase per level
Stack duration (upper limit should be reasonably high)
Damage boost
Additive damage boost
Additive damage boost per level

Spellblade [WEAPON]
Passive A:
Melee attacks increase your [irons_spellbooks:spell_power] attribute by x% for y seconds. This can only happen every z seconds.
Ranged attacks increase your spell power by a configurable multiplier.
This must share the same cooldown.
For example, If you attack with a melee weapon, the cooldown will occur and a ranged attack would not increase spell power.
Passive B:
Spell attacks increase your [attributeslib:arrow_damage] by a% for b seconds. This can only happen every c seconds.
Spell attacks increase your [minecraft:generic.attack_damage] by d% instead.
Configuration options:
Passive A
Melee Attack Proc
Base [irons_spellbooks:spell_power] boost
Additional boost per level
Ranged Attack Proc
Base [irons_spellbooks:spell_power]
Additional boost per level
Uptime
Duration (Fixed)
Universal cooldown
Cooldown decrease per level
Passive B
Boosted  [attributeslib:arrow_damage]
Base
Additional boost per level
Boosted  [minecraft:generic.attack_damage]
Base
Additional boost per level
Uptime
Duration (Fixed)
Base cooldown
Cooldown decrease per level

Magical Attunement [WEAPON]
Every x seconds, your melee and ranged attacks deal bonus lightning damage based on the formula below.
[Base * ENCH Level + %irons:spellbooks:max_mana]
Does not replace your regular damage, but instead adds alongside it.
Configuration options
Damage
Base Damage Per level
% Max Mana (fixed)
Uptime
Duration (fixed)
Base cooldown
Cooldown decrease per level

Perfectionist [WEAPON]
Critical hits increase your attack speed and cast speed by x% for a y seconds. Subsequent critical hits refresh the duration, but do not stack.
Configuration options
Boosted [minecraft:generic.attack_speed]
Base
Attack Speed per level
Boosted [irons_spellbooks:cast_time_reduction]
Base
Cast Speed per level
Duration (static)


Hunter [WEAPON]
Weapon attacks apply “marked” to an enemy. This lasts indefinitely.
Players with the “hunter” enchantment:
Deal x% more [attributeslib:crit_damage] to marked targets.
Gain flat [attributeslib:crit_chance] to marked targets.
Players cannot mark another enemy until the mob is defeated.
Configuration options
Mark
Base % Critical Damage boost on marked target
Crit boost per level
Flat crit rate (fixed) on marked target
CHESTPLATES
Multiscale [CHESTPLATE] (Currently Corrupted- DO NOT WEAR A CHESTPLATE WITH IT- will corrupt character)
When at full health…
Gain an additive and a total percentage amount of [minecraft:generic.armor]
Configuration options
Flat  [minecraft:generic.armor] per level
Percentage [minecraft:generic.armor] per level

Invigorating Defenses [CHESTPLATE]
Upon a successful block:
 increases your [minecraft:generic.movement_speed] by x%
Heal a % of Max HP every 1s for y seconds.
A chestplate enchantment for balancing purposes.
This can only happen every z seconds.
Configuration options
Boosted  [minecraft:generic.movement_speed]
Base
Percentage increase per level
% Health restored
Base max HP restored
Percentage increase per level
Cooldown (fixed)
Duration
Base duration
Duration per level

Life Surge [CHESTPLATE]
When you drop below 40% of your maximum HP…
Gain an additive and percentage increase in [minecraft:generic.armor] for a configurable duration.
Gain a flat boost in lifesteal and spell steal.
These attributes are from  bobotweaks, I just forgot the proper syntax.
This can only occur every z seconds.
Configuration options
Armor
Flat  [minecraft:generic.armor] per level
Percentage [minecraft:generic.armor] per level
Lifesteal
Flat lifesteal per level
Flat spell steal per level
Uptime
Duration (fixed)
Base Cooldown
Cooldown decrease per level

Shadow Walker [CHESTPLATE]
Also in the chestplate slot for balancing purposes (despite not making sense).
Passive A:
Upon killing a  hostile/neutral mob…
Gain [irons_spellbooks:true_invisibility] (amplifier 0) and increase your [minecraft:generic.movement speed ] by x% for y  seconds.
It’s your choice on how you want the movement speed to be applied (effect, an event, etc.).
Passive B:
If you are under either [minecraft:invisibility] or [irons_spellbooks:true_invisibility], gain a flat and total percentage boost in damage amplifier.
Note: This would technically only work for one attack, because invisibility wears off upon attacking. This is intended.
IF a teammate (vanilla team system) kills a hostile mob, gain the same movement speed boost but no invisibility.
Repeated kills refresh the duration of the effect, but do not stack the amplifier.
Configuration options
Invisibility & Movement Speed
Fixed  [irons_spellbooks:true_invisibility] duration
Fixed [minecraft:generic.movement_speed] duration
Fixed [minecraft:generic.movement_speed] %
 Damage Boost (if invisible)
Base damage amplifier
Base damage amplifier per level

